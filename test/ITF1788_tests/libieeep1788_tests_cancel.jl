#
# Copyright 2013 - 2015 Marco Nehmeier (nehmeier@informatik.uni-wuerzburg.de)
# Copyright 2015 Oliver Heimlich (oheim@posteo.de)
# 
# Original author: Marco Nehmeier (unit tests in libieeep1788)
# Converted into portable ITL format by Oliver Heimlich with minor corrections.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
#Language imports

#Test library imports
using FactCheck

#Arithmetic library imports
using ValidatedNumerics

#Preamble
setprecision(53)
setprecision(BareInterval, Float64)
setrounding(BareInterval, :narrow)

facts("minimal_cancelPlus_test") do
    @fact cancelplus(BareInterval(-Inf, -1.0), ∅) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-1.0, Inf), ∅) --> entireinterval(Float64)
    @fact cancelplus(entireinterval(Float64), ∅) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-Inf, -1.0), BareInterval(-5.0, 1.0)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-1.0, Inf), BareInterval(-5.0, 1.0)) --> entireinterval(Float64)
    @fact cancelplus(entireinterval(Float64), BareInterval(-5.0, 1.0)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-Inf, -1.0), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-1.0, Inf), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelplus(∅, BareInterval(1.0, Inf)) --> entireinterval(Float64)
    @fact cancelplus(∅, BareInterval(-Inf, 1.0)) --> entireinterval(Float64)
    @fact cancelplus(∅, entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-1.0, 5.0), BareInterval(1.0, Inf)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-1.0, 5.0), BareInterval(-Inf, 1.0)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-1.0, 5.0), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelplus(entireinterval(Float64), BareInterval(1.0, Inf)) --> entireinterval(Float64)
    @fact cancelplus(entireinterval(Float64), BareInterval(-Inf, 1.0)) --> entireinterval(Float64)
    @fact cancelplus(entireinterval(Float64), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-5.0, -1.0), BareInterval(1.0, 5.1)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-5.0, -1.0), BareInterval(0.9, 5.0)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-5.0, -1.0), BareInterval(0.9, 5.1)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-10.0, 5.0), BareInterval(-5.0, 10.1)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-10.0, 5.0), BareInterval(-5.1, 10.0)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-10.0, 5.0), BareInterval(-5.1, 10.1)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(1.0, 5.0), BareInterval(-5.0, -0.9)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(1.0, 5.0), BareInterval(-5.1, -1.0)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(1.0, 5.0), BareInterval(-5.1, -0.9)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-10.0, -1.0), ∅) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-10.0, 5.0), ∅) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(1.0, 5.0), ∅) --> entireinterval(Float64)
    @fact cancelplus(∅, ∅) --> ∅
    @fact cancelplus(∅, BareInterval(1.0, 10.0)) --> ∅
    @fact cancelplus(∅, BareInterval(-5.0, 10.0)) --> ∅
    @fact cancelplus(∅, BareInterval(-5.0, -1.0)) --> ∅
    @fact cancelplus(BareInterval(-5.1, -0.0), BareInterval(0.0, 5.0)) --> BareInterval(-0x1.999999999998p-4, 0.0)
    @fact cancelplus(BareInterval(-5.1, -1.0), BareInterval(1.0, 5.0)) --> BareInterval(-0x1.999999999998p-4, 0.0)
    @fact cancelplus(BareInterval(-5.0, -0.9), BareInterval(1.0, 5.0)) --> BareInterval(0.0, 0x1.9999999999998p-4)
    @fact cancelplus(BareInterval(-5.1, -0.9), BareInterval(1.0, 5.0)) --> BareInterval(-0x1.999999999998p-4, 0x1.9999999999998p-4)
    @fact cancelplus(BareInterval(-5.0, -1.0), BareInterval(1.0, 5.0)) --> BareInterval(0.0, 0.0)
    @fact cancelplus(BareInterval(-10.1, 5.0), BareInterval(-5.0, 10.0)) --> BareInterval(-0x1.999999999998p-4, 0.0)
    @fact cancelplus(BareInterval(-10.0, 5.1), BareInterval(-5.0, 10.0)) --> BareInterval(0.0, 0x1.999999999998p-4)
    @fact cancelplus(BareInterval(-10.1, 5.1), BareInterval(-5.0, 10.0)) --> BareInterval(-0x1.999999999998p-4, 0x1.999999999998p-4)
    @fact cancelplus(BareInterval(-10.0, 5.0), BareInterval(-5.0, 10.0)) --> BareInterval(0.0, 0.0)
    @fact cancelplus(BareInterval(0.9, 5.0), BareInterval(-5.0, -1.0)) --> BareInterval(-0x1.9999999999998p-4, 0.0)
    @fact cancelplus(BareInterval(1.0, 5.1), BareInterval(-5.0, -1.0)) --> BareInterval(0.0, 0x1.999999999998p-4)
    @fact cancelplus(BareInterval(0.0, 5.1), BareInterval(-5.0, -0.0)) --> BareInterval(0.0, 0x1.999999999998p-4)
    @fact cancelplus(BareInterval(0.9, 5.1), BareInterval(-5.0, -1.0)) --> BareInterval(-0x1.9999999999998p-4, 0x1.999999999998p-4)
    @fact cancelplus(BareInterval(1.0, 5.0), BareInterval(-5.0, -1.0)) --> BareInterval(0.0, 0.0)
    @fact cancelplus(BareInterval(0.0, 5.0), BareInterval(-5.0, -0.0)) --> BareInterval(0.0, 0.0)
    @fact cancelplus(BareInterval(0x1.ffffffffffffp+0, 0x1.ffffffffffffp+0), BareInterval(-0x1.999999999999ap-4, -0x1.999999999999ap-4)) --> BareInterval(0x1.e666666666656p+0, 0x1.e666666666657p+0)
    @fact cancelplus(BareInterval(-0x1.999999999999ap-4, 0x1.ffffffffffffp+0), BareInterval(-0x1.999999999999ap-4, 0.01)) --> BareInterval(-0x1.70a3d70a3d70bp-4, 0x1.e666666666657p+0)
    @fact cancelplus(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> BareInterval(0x1.fffffffffffffp1023, Inf)
    @fact cancelplus(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> BareInterval(0.0, 0.0)
    @fact cancelplus(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023)) --> BareInterval(0.0, 0x1p+971)
    @fact cancelplus(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023)) --> BareInterval(-0x1p+971, 0.0)
    @fact cancelplus(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> entireinterval(Float64)
    @fact cancelplus(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), BareInterval(-0x1p+0, 0x1.ffffffffffffep-53)) --> BareInterval(-0x1.fffffffffffffp-1, -0x1.ffffffffffffep-1)
    @fact cancelplus(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), BareInterval(-0x1p+0, 0x1.fffffffffffffp-53)) --> entireinterval(Float64)
end

facts("minimal_cancelPlus_dec_test") do
    @fact cancelplus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-1.0, Inf), def), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-1.0, Inf), def), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(entireinterval(Float64), def), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(entireinterval(Float64), def), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(BareInterval(-5.0, 1.0), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(BareInterval(-5.0, 1.0), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-1.0, Inf), trv), Decorated(BareInterval(-5.0, 1.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-1.0, Inf), trv), Decorated(BareInterval(-5.0, 1.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-5.0, 1.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-5.0, 1.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-1.0, Inf), def), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-1.0, Inf), def), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(BareInterval(1.0, Inf), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(BareInterval(1.0, Inf), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(BareInterval(-Inf, 1.0), trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(BareInterval(-Inf, 1.0), trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-1.0, 5.0), dac), Decorated(BareInterval(1.0, Inf), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-1.0, 5.0), dac), Decorated(BareInterval(1.0, Inf), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-1.0, 5.0), def), Decorated(BareInterval(-Inf, 1.0), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-1.0, 5.0), def), Decorated(BareInterval(-Inf, 1.0), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-1.0, 5.0), com), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-1.0, 5.0), com), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(1.0, Inf), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(1.0, Inf), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-Inf, 1.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-Inf, 1.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(entireinterval(Float64), def), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(entireinterval(Float64), def), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-5.0, -1.0), com), Decorated(BareInterval(1.0, 5.1), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.0, -1.0), com), Decorated(BareInterval(1.0, 5.1), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-5.0, -1.0), dac), Decorated(BareInterval(0.9, 5.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.0, -1.0), dac), Decorated(BareInterval(0.9, 5.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-5.0, -1.0), def), Decorated(BareInterval(0.9, 5.1), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.0, -1.0), def), Decorated(BareInterval(0.9, 5.1), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, 5.0), trv), Decorated(BareInterval(-5.0, 10.1), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, 5.0), trv), Decorated(BareInterval(-5.0, 10.1), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, 5.0), com), Decorated(BareInterval(-5.1, 10.0), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, 5.0), com), Decorated(BareInterval(-5.1, 10.0), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, 5.0), dac), Decorated(BareInterval(-5.1, 10.1), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, 5.0), dac), Decorated(BareInterval(-5.1, 10.1), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(1.0, 5.0), def), Decorated(BareInterval(-5.0, -0.9), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(1.0, 5.0), def), Decorated(BareInterval(-5.0, -0.9), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(1.0, 5.0), trv), Decorated(BareInterval(-5.1, -1.0), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(1.0, 5.0), trv), Decorated(BareInterval(-5.1, -1.0), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(1.0, 5.0), dac), Decorated(BareInterval(-5.1, -0.9), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(1.0, 5.0), dac), Decorated(BareInterval(-5.1, -0.9), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, -1.0), trv), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, -1.0), trv), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, 5.0), def), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, 5.0), def), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(1.0, 5.0), com), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(1.0, 5.0), com), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(∅, trv)) --> Decorated(∅, trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(∅, trv))) --> decoration(Decorated(∅, trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(BareInterval(1.0, 10.0), dac)) --> Decorated(∅, trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(BareInterval(1.0, 10.0), dac))) --> decoration(Decorated(∅, trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(BareInterval(-5.0, 10.0), def)) --> Decorated(∅, trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(BareInterval(-5.0, 10.0), def))) --> decoration(Decorated(∅, trv))
    @fact cancelplus(Decorated(∅, trv), Decorated(BareInterval(-5.0, -1.0), com)) --> Decorated(∅, trv)
    @fact decoration(cancelplus(Decorated(∅, trv), Decorated(BareInterval(-5.0, -1.0), com))) --> decoration(Decorated(∅, trv))
    @fact cancelplus(Decorated(BareInterval(-5.1, -0.0), com), Decorated(BareInterval(0.0, 5.0), com)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.1, -0.0), com), Decorated(BareInterval(0.0, 5.0), com))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(-5.1, -1.0), com), Decorated(BareInterval(1.0, 5.0), dac)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.1, -1.0), com), Decorated(BareInterval(1.0, 5.0), dac))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(-5.0, -0.9), com), Decorated(BareInterval(1.0, 5.0), def)) --> Decorated(BareInterval(0.0, 0x1.9999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.0, -0.9), com), Decorated(BareInterval(1.0, 5.0), def))) --> decoration(Decorated(BareInterval(0.0, 0x1.9999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(-5.1, -0.9), dac), Decorated(BareInterval(1.0, 5.0), trv)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0x1.9999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.1, -0.9), dac), Decorated(BareInterval(1.0, 5.0), trv))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0x1.9999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(-5.0, -1.0), dac), Decorated(BareInterval(1.0, 5.0), com)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-5.0, -1.0), dac), Decorated(BareInterval(1.0, 5.0), com))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(-10.1, 5.0), dac), Decorated(BareInterval(-5.0, 10.0), dac)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.1, 5.0), dac), Decorated(BareInterval(-5.0, 10.0), dac))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, 5.1), def), Decorated(BareInterval(-5.0, 10.0), def)) --> Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, 5.1), def), Decorated(BareInterval(-5.0, 10.0), def))) --> decoration(Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(-10.1, 5.1), def), Decorated(BareInterval(-5.0, 10.0), trv)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0x1.999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.1, 5.1), def), Decorated(BareInterval(-5.0, 10.0), trv))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0x1.999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(-10.0, 5.0), def), Decorated(BareInterval(-5.0, 10.0), com)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-10.0, 5.0), def), Decorated(BareInterval(-5.0, 10.0), com))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(0.9, 5.0), trv), Decorated(BareInterval(-5.0, -1.0), dac)) --> Decorated(BareInterval(-0x1.9999999999998p-4, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(0.9, 5.0), trv), Decorated(BareInterval(-5.0, -1.0), dac))) --> decoration(Decorated(BareInterval(-0x1.9999999999998p-4, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(1.0, 5.1), trv), Decorated(BareInterval(-5.0, -1.0), def)) --> Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(1.0, 5.1), trv), Decorated(BareInterval(-5.0, -1.0), def))) --> decoration(Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(0.0, 5.1), trv), Decorated(BareInterval(-5.0, -0.0), trv)) --> Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(0.0, 5.1), trv), Decorated(BareInterval(-5.0, -0.0), trv))) --> decoration(Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(0.9, 5.1), com), Decorated(BareInterval(-5.0, -1.0), com)) --> Decorated(BareInterval(-0x1.9999999999998p-4, 0x1.999999999998p-4), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(0.9, 5.1), com), Decorated(BareInterval(-5.0, -1.0), com))) --> decoration(Decorated(BareInterval(-0x1.9999999999998p-4, 0x1.999999999998p-4), trv))
    @fact cancelplus(Decorated(BareInterval(1.0, 5.0), dac), Decorated(BareInterval(-5.0, -1.0), dac)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(1.0, 5.0), dac), Decorated(BareInterval(-5.0, -1.0), dac))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(0.0, 5.0), def), Decorated(BareInterval(-5.0, -0.0), trv)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(0.0, 5.0), def), Decorated(BareInterval(-5.0, -0.0), trv))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(0x1.ffffffffffffp+0, 0x1.ffffffffffffp+0), com), Decorated(BareInterval(-0x1.999999999999ap-4, -0x1.999999999999ap-4), com)) --> Decorated(BareInterval(0x1.e666666666656p+0, 0x1.e666666666657p+0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(0x1.ffffffffffffp+0, 0x1.ffffffffffffp+0), com), Decorated(BareInterval(-0x1.999999999999ap-4, -0x1.999999999999ap-4), com))) --> decoration(Decorated(BareInterval(0x1.e666666666656p+0, 0x1.e666666666657p+0), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1.999999999999ap-4, 0x1.ffffffffffffp+0), dac), Decorated(BareInterval(-0x1.999999999999ap-4, 0.01), com)) --> Decorated(BareInterval(-0x1.70a3d70a3d70bp-4, 0x1.e666666666657p+0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1.999999999999ap-4, 0x1.ffffffffffffp+0), dac), Decorated(BareInterval(-0x1.999999999999ap-4, 0.01), com))) --> decoration(Decorated(BareInterval(-0x1.70a3d70a3d70bp-4, 0x1.e666666666657p+0), trv))
    @fact cancelplus(Decorated(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(BareInterval(0x1.fffffffffffffp1023, Inf), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(BareInterval(0x1.fffffffffffffp1023, Inf), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), dac), Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com)) --> Decorated(BareInterval(0.0, 0x1p+971), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), dac), Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(BareInterval(0.0, 0x1p+971), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), dac), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com)) --> Decorated(BareInterval(-0x1p+971, 0.0), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), dac), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com))) --> decoration(Decorated(BareInterval(-0x1p+971, 0.0), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), dac), Decorated(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), com)) --> Decorated(BareInterval(-0x1.fffffffffffffp-1, -0x1.ffffffffffffep-1), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), dac), Decorated(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), com))) --> decoration(Decorated(BareInterval(-0x1.fffffffffffffp-1, -0x1.ffffffffffffep-1), trv))
    @fact cancelplus(Decorated(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), def), Decorated(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelplus(Decorated(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), def), Decorated(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), com))) --> decoration(Decorated(entireinterval(Float64), trv))
end

facts("minimal_cancelMinus_test") do
    @fact cancelminus(BareInterval(-Inf, -1.0), ∅) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-1.0, Inf), ∅) --> entireinterval(Float64)
    @fact cancelminus(entireinterval(Float64), ∅) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-Inf, -1.0), BareInterval(-1.0, 5.0)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-1.0, Inf), BareInterval(-1.0, 5.0)) --> entireinterval(Float64)
    @fact cancelminus(entireinterval(Float64), BareInterval(-1.0, 5.0)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-Inf, -1.0), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-1.0, Inf), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelminus(∅, BareInterval(-Inf, -1.0)) --> entireinterval(Float64)
    @fact cancelminus(∅, BareInterval(-1.0, Inf)) --> entireinterval(Float64)
    @fact cancelminus(∅, entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-1.0, 5.0), BareInterval(-Inf, -1.0)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-1.0, 5.0), BareInterval(-1.0, Inf)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-1.0, 5.0), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelminus(entireinterval(Float64), BareInterval(-Inf, -1.0)) --> entireinterval(Float64)
    @fact cancelminus(entireinterval(Float64), BareInterval(-1.0, Inf)) --> entireinterval(Float64)
    @fact cancelminus(entireinterval(Float64), entireinterval(Float64)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-5.0, -1.0), BareInterval(-5.1, -1.0)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-5.0, -1.0), BareInterval(-5.0, -0.9)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-5.0, -1.0), BareInterval(-5.1, -0.9)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-10.0, 5.0), BareInterval(-10.1, 5.0)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-10.0, 5.0), BareInterval(-10.0, 5.1)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-10.0, 5.0), BareInterval(-10.1, 5.1)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(1.0, 5.0), BareInterval(0.9, 5.0)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(1.0, 5.0), BareInterval(1.0, 5.1)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(1.0, 5.0), BareInterval(0.9, 5.1)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-10.0, -1.0), ∅) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-10.0, 5.0), ∅) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(1.0, 5.0), ∅) --> entireinterval(Float64)
    @fact cancelminus(∅, ∅) --> ∅
    @fact cancelminus(∅, BareInterval(-10.0, -1.0)) --> ∅
    @fact cancelminus(∅, BareInterval(-10.0, 5.0)) --> ∅
    @fact cancelminus(∅, BareInterval(1.0, 5.0)) --> ∅
    @fact cancelminus(BareInterval(-5.1, -0.0), BareInterval(-5.0, 0.0)) --> BareInterval(-0x1.999999999998p-4, 0.0)
    @fact cancelminus(BareInterval(-5.1, -1.0), BareInterval(-5.0, -1.0)) --> BareInterval(-0x1.999999999998p-4, 0.0)
    @fact cancelminus(BareInterval(-5.0, -0.9), BareInterval(-5.0, -1.0)) --> BareInterval(0.0, 0x1.9999999999998p-4)
    @fact cancelminus(BareInterval(-5.1, -0.9), BareInterval(-5.0, -1.0)) --> BareInterval(-0x1.999999999998p-4, 0x1.9999999999998p-4)
    @fact cancelminus(BareInterval(-5.0, -1.0), BareInterval(-5.0, -1.0)) --> BareInterval(0.0, 0.0)
    @fact cancelminus(BareInterval(-10.1, 5.0), BareInterval(-10.0, 5.0)) --> BareInterval(-0x1.999999999998p-4, 0.0)
    @fact cancelminus(BareInterval(-10.0, 5.1), BareInterval(-10.0, 5.0)) --> BareInterval(0.0, 0x1.999999999998p-4)
    @fact cancelminus(BareInterval(-10.1, 5.1), BareInterval(-10.0, 5.0)) --> BareInterval(-0x1.999999999998p-4, 0x1.999999999998p-4)
    @fact cancelminus(BareInterval(-10.0, 5.0), BareInterval(-10.0, 5.0)) --> BareInterval(0.0, 0.0)
    @fact cancelminus(BareInterval(0.9, 5.0), BareInterval(1.0, 5.0)) --> BareInterval(-0x1.9999999999998p-4, 0.0)
    @fact cancelminus(BareInterval(-0.0, 5.1), BareInterval(0.0, 5.0)) --> BareInterval(0.0, 0x1.999999999998p-4)
    @fact cancelminus(BareInterval(1.0, 5.1), BareInterval(1.0, 5.0)) --> BareInterval(0.0, 0x1.999999999998p-4)
    @fact cancelminus(BareInterval(0.9, 5.1), BareInterval(1.0, 5.0)) --> BareInterval(-0x1.9999999999998p-4, 0x1.999999999998p-4)
    @fact cancelminus(BareInterval(1.0, 5.0), BareInterval(1.0, 5.0)) --> BareInterval(0.0, 0.0)
    @fact cancelminus(BareInterval(-5.0, 1.0), BareInterval(-1.0, 5.0)) --> BareInterval(-4.0, -4.0)
    @fact cancelminus(BareInterval(-5.0, 0.0), BareInterval(-0.0, 5.0)) --> BareInterval(-5.0, -5.0)
    @fact cancelminus(BareInterval(0x1.ffffffffffffp+0, 0x1.ffffffffffffp+0), BareInterval(0x1.999999999999ap-4, 0x1.999999999999ap-4)) --> BareInterval(0x1.e666666666656p+0, 0x1.e666666666657p+0)
    @fact cancelminus(BareInterval(-0x1.999999999999ap-4, 0x1.ffffffffffffp+0), BareInterval(-0.01, 0x1.999999999999ap-4)) --> BareInterval(-0x1.70a3d70a3d70bp-4, 0x1.e666666666657p+0)
    @fact cancelminus(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, -0x1.fffffffffffffp1023)) --> BareInterval(0x1.fffffffffffffp1023, Inf)
    @fact cancelminus(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> BareInterval(0.0, 0.0)
    @fact cancelminus(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023)) --> BareInterval(0.0, 0x1p+971)
    @fact cancelminus(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023)) --> BareInterval(-0x1p+971, 0.0)
    @fact cancelminus(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022)) --> BareInterval(0.0, 0.0)
    @fact cancelminus(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), BareInterval(-0x0.0000000000001p-1022, -0x0.0000000000001p-1022)) --> BareInterval(0x0.0000000000002p-1022, 0x0.0000000000002p-1022)
    @fact cancelminus(BareInterval(0x1p-1022, 0x1.0000000000002p-1022), BareInterval(0x1p-1022, 0x1.0000000000001p-1022)) --> BareInterval(0.0, 0x0.0000000000001p-1022)
    @fact cancelminus(BareInterval(0x1p-1022, 0x1.0000000000001p-1022), BareInterval(0x1p-1022, 0x1.0000000000002p-1022)) --> entireinterval(Float64)
    @fact cancelminus(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), BareInterval(-0x1.ffffffffffffep-53, 0x1p+0)) --> BareInterval(-0x1.fffffffffffffp-1, -0x1.ffffffffffffep-1)
    @fact cancelminus(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), BareInterval(-0x1.fffffffffffffp-53, 0x1p+0)) --> entireinterval(Float64)
end

facts("minimal_cancelMinus_dec_test") do
    @fact cancelminus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-Inf, -1.0), dac), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-1.0, Inf), def), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-1.0, Inf), def), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(entireinterval(Float64), def), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(entireinterval(Float64), def), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-Inf, -1.0), trv), Decorated(BareInterval(-1.0, 5.0), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-Inf, -1.0), trv), Decorated(BareInterval(-1.0, 5.0), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-1.0, Inf), dac), Decorated(BareInterval(-1.0, 5.0), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-1.0, Inf), dac), Decorated(BareInterval(-1.0, 5.0), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-1.0, 5.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-1.0, 5.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-Inf, -1.0), def), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-Inf, -1.0), def), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-1.0, Inf), trv), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-1.0, Inf), trv), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(BareInterval(-Inf, -1.0), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(BareInterval(-Inf, -1.0), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(BareInterval(-1.0, Inf), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(BareInterval(-1.0, Inf), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-1.0, 5.0), dac), Decorated(BareInterval(-Inf, -1.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-1.0, 5.0), dac), Decorated(BareInterval(-Inf, -1.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-1.0, 5.0), def), Decorated(BareInterval(-1.0, Inf), trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-1.0, 5.0), def), Decorated(BareInterval(-1.0, Inf), trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-1.0, 5.0), com), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-1.0, 5.0), com), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-Inf, -1.0), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-Inf, -1.0), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-1.0, Inf), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(entireinterval(Float64), def), Decorated(BareInterval(-1.0, Inf), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(entireinterval(Float64), def), Decorated(entireinterval(Float64), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(entireinterval(Float64), def), Decorated(entireinterval(Float64), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, -1.0), com), Decorated(BareInterval(-5.1, -1.0), trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, -1.0), com), Decorated(BareInterval(-5.1, -1.0), trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, -1.0), dac), Decorated(BareInterval(-5.0, -0.9), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, -1.0), dac), Decorated(BareInterval(-5.0, -0.9), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, -1.0), def), Decorated(BareInterval(-5.1, -0.9), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, -1.0), def), Decorated(BareInterval(-5.1, -0.9), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, 5.0), trv), Decorated(BareInterval(-10.1, 5.0), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, 5.0), trv), Decorated(BareInterval(-10.1, 5.0), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, 5.0), com), Decorated(BareInterval(-10.0, 5.1), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, 5.0), com), Decorated(BareInterval(-10.0, 5.1), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, 5.0), dac), Decorated(BareInterval(-10.1, 5.1), trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, 5.0), dac), Decorated(BareInterval(-10.1, 5.1), trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(1.0, 5.0), def), Decorated(BareInterval(0.9, 5.0), def)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(1.0, 5.0), def), Decorated(BareInterval(0.9, 5.0), def))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(1.0, 5.0), trv), Decorated(BareInterval(1.0, 5.1), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(1.0, 5.0), trv), Decorated(BareInterval(1.0, 5.1), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(1.0, 5.0), com), Decorated(BareInterval(0.9, 5.1), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(1.0, 5.0), com), Decorated(BareInterval(0.9, 5.1), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, -1.0), com), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, -1.0), com), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, 5.0), dac), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, 5.0), dac), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(1.0, 5.0), def), Decorated(∅, trv)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(1.0, 5.0), def), Decorated(∅, trv))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(∅, trv)) --> Decorated(∅, trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(∅, trv))) --> decoration(Decorated(∅, trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(BareInterval(-10.0, -1.0), com)) --> Decorated(∅, trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(BareInterval(-10.0, -1.0), com))) --> decoration(Decorated(∅, trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(BareInterval(-10.0, 5.0), dac)) --> Decorated(∅, trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(BareInterval(-10.0, 5.0), dac))) --> decoration(Decorated(∅, trv))
    @fact cancelminus(Decorated(∅, trv), Decorated(BareInterval(1.0, 5.0), def)) --> Decorated(∅, trv)
    @fact decoration(cancelminus(Decorated(∅, trv), Decorated(BareInterval(1.0, 5.0), def))) --> decoration(Decorated(∅, trv))
    @fact cancelminus(Decorated(BareInterval(-5.1, -0.0), com), Decorated(BareInterval(-5.0, 0.0), com)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.1, -0.0), com), Decorated(BareInterval(-5.0, 0.0), com))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-5.1, -1.0), dac), Decorated(BareInterval(-5.0, -1.0), com)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.1, -1.0), dac), Decorated(BareInterval(-5.0, -1.0), com))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, -0.9), def), Decorated(BareInterval(-5.0, -1.0), com)) --> Decorated(BareInterval(0.0, 0x1.9999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, -0.9), def), Decorated(BareInterval(-5.0, -1.0), com))) --> decoration(Decorated(BareInterval(0.0, 0x1.9999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(-5.1, -0.9), trv), Decorated(BareInterval(-5.0, -1.0), com)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0x1.9999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.1, -0.9), trv), Decorated(BareInterval(-5.0, -1.0), com))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0x1.9999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, -1.0), com), Decorated(BareInterval(-5.0, -1.0), dac)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, -1.0), com), Decorated(BareInterval(-5.0, -1.0), dac))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-10.1, 5.0), dac), Decorated(BareInterval(-10.0, 5.0), dac)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.1, 5.0), dac), Decorated(BareInterval(-10.0, 5.0), dac))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, 5.1), def), Decorated(BareInterval(-10.0, 5.0), dac)) --> Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, 5.1), def), Decorated(BareInterval(-10.0, 5.0), dac))) --> decoration(Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(-10.1, 5.1), trv), Decorated(BareInterval(-10.0, 5.0), def)) --> Decorated(BareInterval(-0x1.999999999998p-4, 0x1.999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.1, 5.1), trv), Decorated(BareInterval(-10.0, 5.0), def))) --> decoration(Decorated(BareInterval(-0x1.999999999998p-4, 0x1.999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(-10.0, 5.0), com), Decorated(BareInterval(-10.0, 5.0), def)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-10.0, 5.0), com), Decorated(BareInterval(-10.0, 5.0), def))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(0.9, 5.0), dac), Decorated(BareInterval(1.0, 5.0), def)) --> Decorated(BareInterval(-0x1.9999999999998p-4, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0.9, 5.0), dac), Decorated(BareInterval(1.0, 5.0), def))) --> decoration(Decorated(BareInterval(-0x1.9999999999998p-4, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-0.0, 5.1), def), Decorated(BareInterval(0.0, 5.0), def)) --> Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0.0, 5.1), def), Decorated(BareInterval(0.0, 5.0), def))) --> decoration(Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(1.0, 5.1), trv), Decorated(BareInterval(1.0, 5.0), trv)) --> Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(1.0, 5.1), trv), Decorated(BareInterval(1.0, 5.0), trv))) --> decoration(Decorated(BareInterval(0.0, 0x1.999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(0.9, 5.1), com), Decorated(BareInterval(1.0, 5.0), trv)) --> Decorated(BareInterval(-0x1.9999999999998p-4, 0x1.999999999998p-4), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0.9, 5.1), com), Decorated(BareInterval(1.0, 5.0), trv))) --> decoration(Decorated(BareInterval(-0x1.9999999999998p-4, 0x1.999999999998p-4), trv))
    @fact cancelminus(Decorated(BareInterval(1.0, 5.0), dac), Decorated(BareInterval(1.0, 5.0), com)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(1.0, 5.0), dac), Decorated(BareInterval(1.0, 5.0), com))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, 1.0), def), Decorated(BareInterval(-1.0, 5.0), def)) --> Decorated(BareInterval(-4.0, -4.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, 1.0), def), Decorated(BareInterval(-1.0, 5.0), def))) --> decoration(Decorated(BareInterval(-4.0, -4.0), trv))
    @fact cancelminus(Decorated(BareInterval(-5.0, 0.0), trv), Decorated(BareInterval(-0.0, 5.0), trv)) --> Decorated(BareInterval(-5.0, -5.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-5.0, 0.0), trv), Decorated(BareInterval(-0.0, 5.0), trv))) --> decoration(Decorated(BareInterval(-5.0, -5.0), trv))
    @fact cancelminus(Decorated(BareInterval(0x1.ffffffffffffp+0, 0x1.ffffffffffffp+0), com), Decorated(BareInterval(0x1.999999999999ap-4, 0x1.999999999999ap-4), com)) --> Decorated(BareInterval(0x1.e666666666656p+0, 0x1.e666666666657p+0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0x1.ffffffffffffp+0, 0x1.ffffffffffffp+0), com), Decorated(BareInterval(0x1.999999999999ap-4, 0x1.999999999999ap-4), com))) --> decoration(Decorated(BareInterval(0x1.e666666666656p+0, 0x1.e666666666657p+0), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1.999999999999ap-4, 0x1.ffffffffffffp+0), def), Decorated(BareInterval(-0.01, 0x1.999999999999ap-4), dac)) --> Decorated(BareInterval(-0x1.70a3d70a3d70bp-4, 0x1.e666666666657p+0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1.999999999999ap-4, 0x1.ffffffffffffp+0), def), Decorated(BareInterval(-0.01, 0x1.999999999999ap-4), dac))) --> decoration(Decorated(BareInterval(-0x1.70a3d70a3d70bp-4, 0x1.e666666666657p+0), trv))
    @fact cancelminus(Decorated(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, -0x1.fffffffffffffp1023), com)) --> Decorated(BareInterval(0x1.fffffffffffffp1023, Inf), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, -0x1.fffffffffffffp1023), com))) --> decoration(Decorated(BareInterval(0x1.fffffffffffffp1023, Inf), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com)) --> Decorated(BareInterval(0.0, 0x1p+971), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com))) --> decoration(Decorated(BareInterval(0.0, 0x1p+971), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com)) --> Decorated(BareInterval(-0x1p+971, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(BareInterval(-0x1p+971, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.ffffffffffffep+1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1.ffffffffffffep+1023, 0x1.fffffffffffffp1023), com), Decorated(BareInterval(-0x1.fffffffffffffp1023, 0x1.fffffffffffffp1023), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), com), Decorated(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), com)) --> Decorated(BareInterval(0.0, 0.0), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), com), Decorated(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), com))) --> decoration(Decorated(BareInterval(0.0, 0.0), trv))
    @fact cancelminus(Decorated(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), com), Decorated(BareInterval(-0x0.0000000000001p-1022, -0x0.0000000000001p-1022), dac)) --> Decorated(BareInterval(0x0.0000000000002p-1022, 0x0.0000000000002p-1022), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0x0.0000000000001p-1022, 0x0.0000000000001p-1022), com), Decorated(BareInterval(-0x0.0000000000001p-1022, -0x0.0000000000001p-1022), dac))) --> decoration(Decorated(BareInterval(0x0.0000000000002p-1022, 0x0.0000000000002p-1022), trv))
    @fact cancelminus(Decorated(BareInterval(0x1p-1022, 0x1.0000000000002p-1022), dac), Decorated(BareInterval(0x1p-1022, 0x1.0000000000001p-1022), dac)) --> Decorated(BareInterval(0.0, 0x0.0000000000001p-1022), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0x1p-1022, 0x1.0000000000002p-1022), dac), Decorated(BareInterval(0x1p-1022, 0x1.0000000000001p-1022), dac))) --> decoration(Decorated(BareInterval(0.0, 0x0.0000000000001p-1022), trv))
    @fact cancelminus(Decorated(BareInterval(0x1p-1022, 0x1.0000000000001p-1022), def), Decorated(BareInterval(0x1p-1022, 0x1.0000000000002p-1022), com)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(0x1p-1022, 0x1.0000000000001p-1022), def), Decorated(BareInterval(0x1p-1022, 0x1.0000000000002p-1022), com))) --> decoration(Decorated(entireinterval(Float64), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), com), Decorated(BareInterval(-0x1.ffffffffffffep-53, 0x1p+0), dac)) --> Decorated(BareInterval(-0x1.fffffffffffffp-1, -0x1.ffffffffffffep-1), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1p+0, 0x1.fffffffffffffp-53), com), Decorated(BareInterval(-0x1.ffffffffffffep-53, 0x1p+0), dac))) --> decoration(Decorated(BareInterval(-0x1.fffffffffffffp-1, -0x1.ffffffffffffep-1), trv))
    @fact cancelminus(Decorated(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), def), Decorated(BareInterval(-0x1.fffffffffffffp-53, 0x1p+0), dac)) --> Decorated(entireinterval(Float64), trv)
    @fact decoration(cancelminus(Decorated(BareInterval(-0x1p+0, 0x1.ffffffffffffep-53), def), Decorated(BareInterval(-0x1.fffffffffffffp-53, 0x1p+0), dac))) --> decoration(Decorated(entireinterval(Float64), trv))
end
# FactCheck.exitstatus()
